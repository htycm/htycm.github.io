<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="css/blog.css" rel="stylesheet">
    <title>Htycm Blog</title>
    <meta name="description" content="The Blog">
    <meta name="author" content="htycm">
</head>

<body>
    <div class="container">
        <div class="blog-header">
            <h1 class="blog-title">Hello My Blog</h1>
            <p class="blog-description">The journey to do well...</p>
        </div>
        <div class="blog-main">
            <div class="blog-post">
                <h2 class="blog-post-title">Starting out with Ember.js and Node.js</h2>
                <p class="blog-post-meta">Started at Nov. 22nd 2016</p>
                <h4>Source: </h4>
                <ol>
                    <li>https://guides.emberjs.com/v2.9.0/tutorial/ember-cli/</li>
                    <li>https://docs.npmjs.com/cli/init</li>
                </ol>
                <hr>
                <section>
                    <h2 class="section-title">Setup</h2>
                    <h3 class="sub-title">Content</h3>
                    <ol>
                        <li>Setup basic node project</li>
                        <li>Setup basic ember project</li>
                        <li>Establish connection between Ember and Node</li>
                        <li>Build and Run</li>
                    </ol>
                    <h3 class="sub-title">Setup basic node project</h3>
                    <p>Create a new directory and run <code>npm init</code> to setup package.json file. In the process of creating the .json file, please make sure to set a server.js file as entry point on the server side. Adding "express", "log4js", and some other dependencies in your package.json file, and run <code>npm install</code> to generate node_modules dirctory.</p>
                    <h3 class="sub-title">Setup basic ember project</h3>
                    <p>In the project directory we just created, run <code>ember new client</code> to create a ember project named the "client". We can name it however we want, client just makes sense because this is client side code. We can go to project/client/app/templates and create application.hbs if it is not yet there, and add something like the following code in the template for testing.
                    <pre><code>
                        &lt;div&gt Hello ember from node &lt;/div&gt
                    </code></pre>
                    So now, in our project directory, we should have:
                        <ol>
                            <li>client</li>
                            <li>node_modules</li>
                            <li>server.js</li>
                            <li>package.json</li>
                        </ol>
                    </p>
                    <h3 class="sub-title">Establish connection between Ember and Node</h3>
                    <p>In the project root directory, create a "public" directory, this will be the entry point of both Ember and Node. In server.js file, put down something like 
                    <pre><code>
                        var app = require('express')(),
                        express = require('express'),
                        http = require('http'),
                        server = http.Server(app);

                        app.use(express.static('public', {index: 'index.html'}));
                        server.listen(7000, function () {
                            console.log('listening on *:7000');
                        });
                    </code></pre>
                    This will tell the node that our .html file is in public direcotry, named "index.html". Now we should have:
                        <ol>
                            <li>public</li>
                            <li>client</li>
                            <li>node_modules</li>
                            <li>server.js</li>
                            <li>package.json</li>
                        </ol>
                    </p>
                    <h3 class="sub-title">Build and Run</h3>
                    <p>Build the Ember project with <code>ember build --environment=production --output-path=../public/</code> in the client folder. This will create index.html built from ember setup in the public folder. Next we can run the node project with <code>node server.js</code> in the project folder. Then we can navigate to <code>localhost:7000</code> to see our new project.</p>
                </section>
            </div>
        </div>
    </div>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
</body>

</html>
